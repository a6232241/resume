{
  "shortDesc": "整合 NFC 與 MPC 的 Web3 RWA 虛實整合平台",
  "technologies": ["React Native", "Swift App Clips", "Next.js", "Node.js", "Prisma", "Shopify API", "Web3"],
  "role": "軟體開發者",
  "achievements": [],
  "detail": {
    "hero": {
      "title": "Berify",
      "tagline": "分散式 O2O 生態系統 · 微服務架構",
      "statusBadge": "正式上線中"
    },
    "overview": {
      "description": "專注於 React Native 基礎設施，並協作整合 Web 端流程，負責原生層的穩定性維護與版本升級，並主導 Rewards 獎勵模組的完整重構與解耦，並協作維護 IDV 身分驗證模組。",
      "duration": "2023 - 2024 (1 年 5 個月)",
      "team": "8 人團隊合作",
      "projectType": "商業產品",
      "mainTechs": ["React Native", "Swift App Clips", "Next.js", "Node.js", "Prisma", "Shopify API", "Web3"],
      "platforms": ["iOS", "Android", "Web"]
    },
    "architectureFlow": {
      "title": "系統架構鏈路",
      "steps": [
        { "step": "1", "title": "App (NFC 掃描)", "desc": "React Native & Swift App Clip", "metric": "觸發交互" },
        { "step": "2", "title": "App-Backend", "desc": "Web3 & API Gateway", "metric": "業務邏輯" },
        { "step": "3", "title": "Berify-DB & Queue", "desc": "排程服務 & 任務佇列", "metric": "異步處理" },
        { "step": "4", "title": "WebSocket & SNS", "desc": "即時通知與雲端推播", "metric": "雙向回饋" }
      ]
    },
    "architectureMetrics": {
      "title": "核心工程與貢獻",
      "list": [
        {
          "title": "模組化規模",
          "metric": "9 個分散式服務單元 / 188+ 領域模型",
          "desc": ["設計並主導三層式收藏體系，並與電商平台實現數據對接", "整合生物辨識 IDV 安全體系"]
        },
        {
          "title": "資料演進",
          "metric": "114+ 次資料庫架構演進歷程",
          "desc": ["設計扁平化留言模型，避免 N+1 查詢問題", "透過 Prisma Schema 強型別約束，維護高頻遷移一致性"]
        },
        {
          "title": "原生層穩定性",
          "metric": "跨平台環境標準化",
          "desc": ["排除核心模組編譯衝突，穩定原生建置環境", "解決 App Clip 視圖殘留異常"]
        }
      ]
    },
    "technicalSpotlight": [
      {
        "id": "app-clip",
        "title": "App Clip 導航修正：解決畫面殘留與狀態管理",
        "role": "iOS 原生技術負責人",
        "icon": "smartphone",
        "summary": "修復掃描流程導航死鎖問題，提升使用者體驗",
        "tags": ["iOS Native", "State Reset", "NFC Optimization"],
        "challenge": {
          "title": "挑戰",
          "items": [
            "在使用 App Clip 連續進行 NFC 觸發時，仍然顯示前次掃描的結果頁面",
            "此現象導致用戶在實體場景操作中斷，直接影響掃描轉換率"
          ]
        },
        "analysis": {
          "title": "分析與工具",
          "items": [
            "查閱 SceneDelegate 與根視圖控制器的邏輯",
            "追蹤 UIViewController 的 presented 狀態鏈條，確認系統無法自動重置 Modal Presentation"
          ]
        },
        "decision": {
          "title": "工程決策",
          "items": [
            {
              "title": "方法一：更新彈窗內容",
              "desc": "缺點：需要考慮多個狀態，例如：加載中、動畫播放中、失敗、成功等"
            },
            {
              "title": "方法二：透過遞迴尋找最上層控制器，並強制關閉",
              "desc": "優點：可以重置視圖狀態，確保生命週期一致性",
              "highlight": true,
              "badge": "已選策略"
            }
          ]
        },
        "result": {
          "title": "結果",
          "items": ["消除 UI 衝突導致的導航阻斷", "提升使用者掃描到查看商品頁面的流暢度"]
        },
        "codeSnippet": {
          "title": "原生 UI 堆疊清理邏輯",
          "language": "swift",
          "code": "// 透過遞迴 dismiss 確保每次掃描都能從初始的 Landing 狀態啟動\nfunc useLandingController() -> LandingViewController? {\n  let keyWindow = UIApplication.shared.windows.filter {\n    $0.isKeyWindow\n  }.first\n\n  if var topController = keyWindow?.rootViewController {\n    while let presented = \n      topController.presentedViewController {\n      topController = presented\n    }\n\n    if topController is ScanResultViewController ||\n       topController is ScanErrorViewController {\n        topController.dismiss(animated: false)\n    }\n  }\n  return keyWindow?.rootViewController as? LandingViewController\n}",
          "highlights": [8, 9, 10, 13, 14, 15],
          "tooltips": [
            { "line": 8, "content": "遞迴查找最上層 Presented VC" },
            { "line": 13, "content": "僅針對特定視圖類型執行清理" },
            { "line": 15, "content": "強制移除殘留視窗" }
          ]
        }
      }
    ],
    "gallery": {
      "tabs": {
        "consumerApp": "消費者體驗",
        "merchantDashboard": "商家管理"
      },
      "consumerApp": {
        "home": { "title": "首頁", "desc": "NFC 產品驗證入口" },
        "productDetail": { "title": "產品詳情", "desc": "區塊鏈驗證資訊與 NFT 資產" },
        "chat": { "title": "即時互動", "desc": "WebSocket 品牌聊天室" },
        "rewards": { "title": "獎勵中心", "desc": "Shopify 折扣碼同步" },
        "rewardsDetail": { "title": "獎勵詳情", "desc": "點數兌換專屬折扣" },
        "notifications": { "title": "通知中心", "desc": "AWS SNS 推播" },
        "profile": { "title": "個人檔案", "desc": "個人檔案" },
        "scanHistory": { "title": "掃描歷程", "desc": "產品互動記錄" }
      },
      "merchantDashboard": {
        "dashboard": { "title": "儀表板", "desc": "多維度分析" },
        "inventory": { "title": "庫存管理", "desc": "數位標籤管理" },
        "experience": { "title": "體驗管理", "desc": "跨分店數位體驗" },
        "experienceDetail": { "title": "體驗詳情", "desc": "抽獎規則與 NFT 內容" },
        "rewards": { "title": "獎勵策略", "desc": "O2O 促銷規則" },
        "account": { "title": "權限管理", "desc": "細粒度角色與存取" }
      }
    },
    "disclaimer": "本頁面展示的內容為商業專案，相關截圖僅供作品集展示用途。"
  }
}
