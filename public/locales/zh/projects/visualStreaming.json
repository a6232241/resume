{
  "shortDesc": "åœ¨ç›´æ’­é è¦½ä¸­å³æ™‚æ›¿æ›è‡‰éƒ¨ï¼Œé©—è­‰é«˜æ•ˆèƒ½å½±åƒè™•ç†èˆ‡åŸç”Ÿæ•´åˆå¯è¡Œæ€§ã€‚",
  "technologies": ["React Native", "Kotlin/ObjC", "C++", "OpenCV", "Vision Camera", "Fabric & TurboModules", "ML Kit"],
  "achievements": [
    "å–®äºº 4 å€‹æœˆå®Œæˆ Android/iOS é›™å¹³å° Demo",
    "C++ ä»£ç¢¼è¤‡ç”¨ç‡ 80%+ï¼Œè·¨å¹³å°å…±ç”¨æ ¸å¿ƒé‚è¼¯",
    "æ¡ç”¨ RN æ–°æ¶æ§‹ Fabric & TurboModulesï¼Œé–‹ç™¼ Native Component"
  ],
  "role": "å–®äºº Â· 4 å€‹æœˆ",
  "badge": "é«˜æ•ˆèƒ½æ¶æ§‹",
  "detail": {
    "hero": {
      "title": "Visual Streaming",
      "tagline": "å¯¦æ™‚ç›´æ’­æ›è‡‰ç‰¹æ•ˆ PoC",
      "description": "é€é JSI èˆ‡ Shared C++ Core å¯¦ç¾è·¨å¹³å°é«˜æ•ˆèƒ½å¯¦æ™‚å½±åƒè™•ç†ã€‚",
      "summary": {
        "problem": {
          "title": "æŒ‘æˆ°",
          "desc": "ç§»å‹•ç«¯<highlight>å¯¦æ™‚äººè‡‰è™•ç†</highlight>çš„æ€§èƒ½èˆ‡è·¨å¹³å°è¤‡ç”¨é›£é¡Œ"
        },
        "solution": {
          "title": "æ–¹æ¡ˆ",
          "desc": "JSI Worklets éé˜»å¡è™•ç† + 80% C++ å…±äº«æ ¸å¿ƒ"
        },
        "impact": {
          "title": "æˆæ•ˆ",
          "desc": "å¯¦ç¾<highlight>å¯¦æ™‚è™•ç†</highlight>èˆ‡<highlight>é›™å¹³å°ä»£ç¢¼å¾©ç”¨</highlight>"
        }
      }
    },
    "overview": {
      "duration": "4 å€‹æœˆ",
      "team": "ç¨ç«‹é–‹ç™¼",
      "projectType": "PoC æ¢ç´¢æ€§é …ç›®",
      "focus": ["JSI è·¨å±¤é€šè¨Š", "åº§æ¨™ç³»çµ±æ˜ å°„", "C++ è·¨å¹³å°è¤‡ç”¨"],
      "mainTechs": ["React Native", "Kotlin/ObjC", "C++", "OpenCV", "Vision Camera", "Fabric & TurboModules", "ML Kit"],
      "platforms": ["Android", "iOS"]
    },
    "challenges": [
      {
        "id": 1,
        "title": "Non-blocking UI - ä¸»åŸ·è¡Œç·’å¸è¼‰",
        "symptom": "äººè‡‰æª¢æ¸¬å°è‡´ UI å¡é “",
        "rootCause": "ML Kit äººè‡‰æª¢æ¸¬æ˜¯è€—æ™‚æ“ä½œï¼Œåœ¨ä¸»åŸ·è¡Œç·’é€²è¡Œæœƒé˜»å¡æ¸²æŸ“",
        "impact": "ç”¨æˆ¶é«”é©—å¡é “ï¼Œäº¤äº’ä¸æµæš¢",
        "badge": "JSI Optimized",
        "metrics": {
          "label": "UI éŸ¿æ‡‰",
          "before": "å¡é “",
          "after": "å³æ™‚"
        },
        "filePaths": ["App.tsx", "android/.../FrameEffectsOverlayView.kt", "ios/FaceDetector/FaceDetector.m"],
        "codeSnippets": [
          "// 1. JS Worklet Offloading\nrunAsync(frame, () => {\n  'worklet';\n  applyEffect(frame, cameraPosition);\n});",
          "// 2. Android Coroutines IO\ncoroutineScope.launch(Dispatchers.IO) {\n  targetFaces = FaceDetector.detect(image)\n}",
          "// 3. iOS GCD Offloading\ndispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{\n  [self performDetectionOnImage:image completion:completion];\n});"
        ],
        "multiHighlightTerms": [
          ["runAsync", "'worklet'"],
          ["Dispatchers.IO", "coroutineScope.launch"],
          ["dispatch_async", "dispatch_get_global_queue"]
        ],
        "codeSnippetTableLabels": ["JS Layer", "Android Layer", "iOS Layer"],
        "solution": {
          "approach": "JSI Worklets + Native Async Offloading",
          "details": [
            "JS å±¤ï¼šé€é runAsync å¯¦ç¾éé˜»å¡å¼å¹€è™•ç†ç®¡é“",
            "Android å±¤ï¼šåˆ©ç”¨ Coroutines Dispatchers.IO å¸è¼‰è¨ˆç®—å¯†é›†å‹ä»»å‹™",
            "iOS å±¤ï¼šåˆ©ç”¨ GCD ç•°æ­¥æ´¾ç™¼ï¼Œç¢ºä¿ä¸»åŸ·è¡Œç·’æ¸²æŸ“ä¸ä¸­æ–·"
          ],
          "result": "ç¢ºä¿åœ¨é«˜è² è¼‰ AI é‹ç®—ä¸‹ï¼ŒUI ä»èƒ½ç¶­æŒæµæš¢çš„äº¤äº’é«”é©—"
        }
      },
      {
        "id": 2,
        "title": "Matrix Transformation - åº§æ¨™æ˜ å°„",
        "symptom": "äººè‡‰ç‰¹å¾µé»èˆ‡é è¦½ç•«é¢ä¸å°é½Š",
        "rootCause": "Vision Camera é è¦½ç•«é¢èˆ‡åŸå§‹å¹€æ•¸æ“š (Frame Data) çš„åº§æ¨™ç³»çµ±ä¸ä¸€è‡´",
        "impact": "äººè‡‰äº¤æ›æ•ˆæœé¡¯ç¤ºåœ¨éŒ¯èª¤çš„ä½ç½®",
        "badge": "ç²¾æº–å°é½Š",
        "metrics": {
          "label": "åº§æ¨™ç²¾æº–åº¦",
          "before": "ä½ç½®éŒ¯äº‚",
          "after": "å®Œå…¨å°é½Š"
        },
        "filePaths": ["App.tsx", "ImageUtils.kt", "FrameEffectsProcessorPlugin.m"],
        "codeSnippets": [
          "<Camera\n  // é—œé–‰åŸç”Ÿé è¦½ï¼Œæ”¹ç”¨è‡ªå®šç¾©çµ„ä»¶æ¸²æŸ“\n  preview={false}\n/>\n<FrameEffectsOverlayViewNativeComponent\n  style={{flex: 1}}\n  effect={currentEffect}\n/>",
          "val matrix = Matrix()\nmatrix.postRotate(rotationDegrees.toFloat())\n\n// è™•ç†é¡åƒè£œå„Ÿ\nif (isHorizontalFlip) {\n  matrix.postScale(if (isHorizontalFlip) -1f else 1f, 1f, viewWidth / 2f, viewHeight / 2f)\n}",
          "UIImageOrientation orientation = frame.orientation;\nUIImage *image = [UIImage imageWithCGImage:cgImage\n                                     scale:1.0\n                               orientation:orientation];"
        ],
        "multiHighlightTerms": [
          ["preview={false}", "FrameEffectsOverlayViewNativeComponent"],
          ["Matrix", "postRotate", "postScale", "isHorizontalFlip"],
          ["UIImageOrientation", "frame.orientation", "orientation"]
        ],
        "codeSnippetTableLabels": ["JS Layer", "Android Layer", "iOS Layer"],
        "solution": {
          "approach": "Matrix.postRotate() (Android) / UIImageOrientation (iOS)",
          "details": [
            "JS å±¤ï¼šè‡ªè¨‚åŸç”Ÿçµ„ä»¶ï¼Œå–ä»£ Vision Camera é è¦½ç•«é¢ã€‚",
            "Androidï¼šåœ¨ç¹ªè£½è‡³ Canvas å‰ï¼Œé€é Matrix æ‰‹å‹•å¥—ç”¨æ—‹è½‰èˆ‡é¡åƒè£œå„Ÿã€‚",
            "iOSï¼šåˆ©ç”¨ Vision Camera æä¾›çš„ UIImageOrientationï¼Œåœ¨å»ºç«‹ UIImage æ™‚ï¼Œè‡ªå‹•è™•ç†åº§æ¨™æ˜ å°„é‚è¼¯ã€‚"
          ],
          "result": "äººè‡‰ç‰¹å¾µé»ç²¾æº–è²¼åˆé è¦½ç•«é¢ï¼Œä¸¦æ”¯æ´å¤šç¨®è¨­å‚™æ—‹è½‰æ–¹å‘",
          "category": "åº§æ¨™æ˜ å°„"
        }
      },
      {
        "id": 3,
        "title": "Shared C++ Core - 80% ä»£ç¢¼è¤‡ç”¨",
        "symptom": "ä»£ç¢¼é‡è¤‡ã€ç¶­è­·è¤‡é›œ",
        "rootCause": "Android/iOS åˆ†åˆ¥å¯¦ç¾å°è‡´ 2 å€å·¥ä½œé‡",
        "impact": "é …ç›®å‘¨æœŸæ‹‰é•·",
        "badge": "80%+ è¤‡ç”¨",
        "metrics": {
          "label": "ä»£ç¢¼è¤‡ç”¨ç‡",
          "before": "0%",
          "after": "80%+"
        },
        "filePaths": ["face_processing_core.cpp", "face_processing_bridge_android.cpp", "FaceProcessingBridge.mm"],
        "codeSnippets": [
          "// C++ Core\ncv::Mat swapFace(...) {\n  // ... (Core Algorithm)\n  Mat alignedSourceImage = alignFace(...);\n  // ... (Core Algorithm)\n  transformImage(alignedSourceImage, ...);\n  return resultImage;\n}",
          "// Android (JNI)\nextern \"C\" JNIEXPORT jbyteArray JNICALL\nJava_com_frameeffectsoverlayview_FrameEffectsOverlayView_getSwapFace(...) {\n  // èª¿ç”¨ C++ æ ¸å¿ƒ\n  Mat resultImage = FaceProcessing::swapFace(sourceImage, targetImage, sourcePoints, targetPoints);\n  return result;\n}",
          "// iOS (ObjC++)\n+ (UIImage *)getSwapFace:(UIImage *)sourceImage ... {\n  // èª¿ç”¨ C++ æ ¸å¿ƒ\n  cv::Mat resultMat = FaceProcessing::swapFace(sourceMat, targetMat, srcPoints, tgtPoints);\n  return [self matToUIImageWithOrientation:resultMat ...];\n}"
        ],
        "multiHighlightTerms": [
          ["FaceProcessing::swapFace", "alignFace", "transformImage"],
          ["Java_com_frameeffectsoverlayview_FrameEffectsOverlayView_getSwapFace", "FaceProcessing::swapFace"],
          ["getSwapFace", "FaceProcessing::swapFace"]
        ],
        "codeSnippetTableLabels": ["C++ Core", "Android JNI", "iOS ObjC++"],
        "solution": {
          "approach": "C++ Core + Platform Bridge (JNI/ObjC)",
          "details": [
            "C++: å¯¦ç¾æ ¸å¿ƒç®—æ³•ï¼Œé€é OpenCV è™•ç†å½±åƒ",
            "Android: é€é JNI èª¿ç”¨ C++ å‡½æ•¸",
            "iOS: é€é Objective-C++ ç›´æ¥èª¿ç”¨",
            "å¹³å°å±¤åƒ…è² è²¬æ•¸æ“šè½‰æ›ï¼ˆARGB â†” BGRAï¼‰èˆ‡åº§æ¨™æ˜ å°„"
          ],
          "result": "80%+ C++ ä»£ç¢¼è¤‡ç”¨ï¼Œé–‹ç™¼å‘¨æœŸæ¸›å°‘ 50%",
          "category": "è·¨å¹³å°"
        }
      }
    ],
    "architecture": {
      "title": "ä¸‰å±¤æ¨¡çµ„åŒ–æ¶æ§‹",
      "layers": [
        {
          "name": "React Nativeï¼ˆUI å±¤ï¼‰",
          "icon": "ğŸ“±",
          "responsibilities": ["è‡ªè¨‚ Fabric å¯¦æ™‚é è¦½", "Frame Processor Worklets"]
        },
        {
          "name": "Kotlin / Objective-Cï¼ˆPlatform å±¤ï¼‰",
          "icon": "ğŸ”§",
          "responsibilities": ["ML Kit äººè‡‰æª¢æ¸¬", "ç›¸æ©Ÿå¹€æ•¸æ“šç®¡ç†", "è‰²å½©é€šé“è½‰æ›ï¼ˆARGB â†” BGRAï¼‰"]
        },
        {
          "name": "C++ï¼ˆAlgorithm å±¤ï¼Œ80% è¤‡ç”¨ï¼‰",
          "icon": "âš™ï¸",
          "responsibilities": ["OpenCV åœ–åƒè™•ç† (å¹¾ä½•è®Šæ›/èåˆ)", "Delaunay ä¸‰è§’å‰–åˆ†", "äººè‡‰äº¤æ›æ ¸å¿ƒç®—æ³•"]
        }
      ]
    },
    "evidence": {
      "videos": {
        "v1": {
          "title": "Android Demo",
          "desc": "Android å¹³å°å¯¦æ™‚äººè‡‰äº¤æ›æ•ˆæœå±•ç¤º"
        },
        "v2": {
          "title": "iOS Demo",
          "desc": "iOS å¹³å°å¯¦æ™‚äººè‡‰äº¤æ›æ•ˆæœå±•ç¤º"
        }
      },
      "screenshots": {
        "s1": {
          "title": "ç…§ç‰‡æ›è‡‰æ•ˆæœ - ç¤ºä¾‹ 1",
          "desc": "å±•ç¤ºç…§ç‰‡æ›è‡‰çš„è¦–è¦ºæ•ˆæœ"
        },
        "s2": {
          "title": "ç…§ç‰‡æ›è‡‰æ•ˆæœ - ç¤ºä¾‹ 2",
          "desc": "å±•ç¤ºç…§ç‰‡æ›è‡‰çš„è¦–è¦ºæ•ˆæœ"
        }
      }
    },
    "disclaimer": "æ­¤å°ˆæ¡ˆç‚ºæ¦‚å¿µé©—è­‰ (PoC) é …ç›®ï¼Œå±•ç¤ºå¯¦æ™‚å½±åƒè™•ç†çš„æŠ€è¡“å¯è¡Œæ€§ã€‚æ‰€æœ‰å±•ç¤ºçš„åª’é«”è³‡ç”¢åƒ…ä¾›æ¼”ç¤ºç”¨é€”ã€‚"
  }
}

